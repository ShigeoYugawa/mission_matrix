<!-- complete_colonel/templates/complete_colonel/archived_missions.html -->

{# 拡張対応目的で配置（現時点では不要） #}
{% load static %}

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  {% if commando_mode %}
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Press Start 2P', monospace; background-color: #000; color: #fff; }
      .mission-card { background-color: #111; border: 2px solid #555; }
      .btn { border: 2px solid #fff; color: #fff; font-weight: bold; font-size: 14px; }
      .btn:hover { color: #ff0; border-color: #ff0; background-color: #222; }
      .mission-title { color: #fff; font-weight: bold; }
      .completed-comment { color: #0f0; font-weight: bold; }
      .mission-card { background-color: #222; border: 2px solid #555; }
    </style>
  {% endif %}
</head>
<body class="container py-4">

  <h1 class="mb-4">{{ title }}</h1>
  <h2 class="h4 mb-3">{{ list_heading }}</h2>

  {% for mission in missions %}
    <div class="card mb-2 mission-card">
      <div class="card-body d-flex justify-content-between align-items-center">
        <span class="mission-title">
          {{ mission.title }}
          {% if mission.completed_comment %}
            <span class="completed-comment ms-2">✅ {{ mission.completed_comment }}</span>
          {% endif %}
        </span>
        <span>
          <a href="{% url 'reassign_mission' mission.id %}" class="btn btn-primary btn-sm">再任務</a>
          <a href="{% url 'delete_permanently' mission.id %}" class="btn btn-danger btn-sm">完全終了</a>
        </span>
      </div>
    </div>
  {% empty %}
    <p class="text-muted">アーカイブに任務はありません。</p>
  {% endfor %}

  <a href="{% url 'mission_list' %}" class="btn btn-outline-secondary mt-3">通常任務リストに戻る</a>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
